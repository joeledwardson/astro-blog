---
import BaseLayout from "../layouts/BaseLayout.astro";
import type { MarkdownFrontMatter } from "../layouts/MarkdownPostLayout.astro";
const pageTitle = "Hello there";
const allPosts = await Astro.glob<MarkdownFrontMatter>("./posts/*.md");
const uniqueTags = Array.from(
  new Set(allPosts.map((p) => p.frontmatter.tags ?? []).flat()),
);
console.log("got some unique tags: ", uniqueTags);
---

<BaseLayout pageTitle={pageTitle}>
  <h2>My awesome blog subtitle</h2>
  <h2>Tags</h2>
  {
    uniqueTags.map((tag) => (
      <li>
        <a href={`/tags/${tag}`}>{tag}</a>{" "}
      </li>
    ))
  }
</BaseLayout>
